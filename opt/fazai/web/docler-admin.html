<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOCLER Admin - Painel Administrativo</title>
    <style>
        /* Reset e configura√ß√µes base */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Courier New', monospace;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #16213e 100%);
            color: #ffffff;
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* Vari√°veis CSS para tema DOCLER */
        :root {
            --docler-primary: #00ff88;
            --docler-secondary: #ff0088;
            --docler-accent: #0088ff;
            --docler-gold: #ffd700;
            --docler-purple: #8a2be2;
            --docler-bg-dark: #0a0a0a;
            --docler-bg-medium: #1a1a2e;
            --docler-bg-light: #16213e;
            --docler-text: #ffffff;
            --docler-text-dim: #cccccc;
            --docler-danger: #ff4444;
            --docler-warning: #ffaa00;
            --docler-success: #00ff88;
        }

        /* Container principal */
        .admin-container {
            display: grid;
            grid-template-columns: 250px 1fr;
            grid-template-rows: 80px 1fr;
            min-height: 100vh;
            gap: 1px;
            background: var(--docler-primary);
        }

        /* Header */
        .admin-header {
            grid-column: 1 / -1;
            background: rgba(10, 10, 10, 0.95);
            border-bottom: 2px solid var(--docler-primary);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 2rem;
            position: relative;
        }

        .admin-logo {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--docler-primary);
            text-shadow: 0 0 20px var(--docler-primary);
        }

        .admin-nav {
            display: flex;
            gap: 2rem;
        }

        .nav-item {
            color: var(--docler-text-dim);
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .nav-item:hover, .nav-item.active {
            color: var(--docler-primary);
            background: rgba(0, 255, 136, 0.1);
        }

        /* Sidebar */
        .admin-sidebar {
            background: rgba(26, 26, 46, 0.9);
            border-right: 1px solid var(--docler-primary);
            padding: 2rem 1rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .sidebar-section {
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--docler-accent);
            border-radius: 8px;
            padding: 1rem;
        }

        .section-title {
            font-size: 1.1rem;
            color: var(--docler-accent);
            margin-bottom: 1rem;
            text-align: center;
        }

        .sidebar-button {
            width: 100%;
            padding: 0.8rem;
            margin-bottom: 0.5rem;
            background: transparent;
            border: 1px solid var(--docler-secondary);
            color: var(--docler-text);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: inherit;
        }

        .sidebar-button:hover {
            background: var(--docler-secondary);
            color: var(--docler-bg-dark);
            transform: scale(1.02);
        }

        .sidebar-button.active {
            background: var(--docler-primary);
            color: var(--docler-bg-dark);
            border-color: var(--docler-primary);
        }

        /* √Årea principal */
        .admin-main {
            background: rgba(22, 33, 62, 0.8);
            padding: 2rem;
            overflow-y: auto;
        }

        .admin-content {
            display: none;
        }

        .admin-content.active {
            display: block;
        }

        .content-title {
            font-size: 2rem;
            color: var(--docler-primary);
            margin-bottom: 2rem;
            text-shadow: 0 0 20px var(--docler-primary);
        }

        /* Dashboard */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .dashboard-card {
            background: rgba(0,0,0,0.4);
            border: 1px solid var(--docler-accent);
            border-radius: 12px;
            padding: 1.5rem;
            position: relative;
            overflow: hidden;
        }

        .dashboard-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0,136,255,0.2), transparent);
            transition: left 0.5s ease;
        }

        .dashboard-card:hover::before {
            left: 100%;
        }

        .card-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1rem;
        }

        .card-title {
            font-size: 1.3rem;
            color: var(--docler-text);
        }

        .card-icon {
            font-size: 2rem;
            color: var(--docler-accent);
        }

        .card-value {
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--docler-primary);
            margin-bottom: 0.5rem;
        }

        .card-description {
            font-size: 0.9rem;
            color: var(--docler-text-dim);
        }

        /* Tabelas */
        .admin-table {
            width: 100%;
            background: rgba(0,0,0,0.4);
            border: 1px solid var(--docler-accent);
            border-radius: 8px;
            overflow: hidden;
            margin-bottom: 2rem;
        }

        .table-header {
            background: rgba(0,136,255,0.2);
            padding: 1rem;
            border-bottom: 1px solid var(--docler-accent);
        }

        .table-title {
            font-size: 1.3rem;
            color: var(--docler-accent);
        }

        .table-content {
            max-height: 400px;
            overflow-y: auto;
        }

        .table-row {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr 1fr auto;
            padding: 1rem;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            transition: background 0.3s ease;
        }

        .table-row:hover {
            background: rgba(0,136,255,0.1);
        }

        .table-row:last-child {
            border-bottom: none;
        }

        .table-cell {
            color: var(--docler-text);
            font-size: 0.9rem;
        }

        .table-cell.status {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .status-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }

        .status-online {
            background: var(--docler-success);
        }

        .status-offline {
            background: var(--docler-danger);
        }

        .status-warning {
            background: var(--docler-warning);
        }

        /* Formul√°rios */
        .admin-form {
            background: rgba(0,0,0,0.4);
            border: 1px solid var(--docler-accent);
            border-radius: 12px;
            padding: 2rem;
            max-width: 600px;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--docler-text);
            font-weight: bold;
        }

        .form-input {
            width: 100%;
            padding: 0.8rem;
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--docler-accent);
            border-radius: 6px;
            color: var(--docler-text);
            font-family: inherit;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--docler-primary);
            box-shadow: 0 0 10px rgba(0,255,136,0.3);
        }

        .form-select {
            width: 100%;
            padding: 0.8rem;
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--docler-accent);
            border-radius: 6px;
            color: var(--docler-text);
            font-family: inherit;
        }

        .form-button {
            padding: 1rem 2rem;
            background: var(--docler-primary);
            color: var(--docler-bg-dark);
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-family: inherit;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .form-button:hover {
            background: var(--docler-accent);
            transform: scale(1.02);
        }

        .form-button.danger {
            background: var(--docler-danger);
        }

        .form-button.warning {
            background: var(--docler-warning);
        }

        /* Alertas */
        .alert {
            padding: 1rem;
            border-radius: 6px;
            margin-bottom: 1rem;
        }

        .alert-success {
            background: rgba(0,255,136,0.2);
            border: 1px solid var(--docler-success);
            color: var(--docler-success);
        }

        .alert-warning {
            background: rgba(255,170,0,0.2);
            border: 1px solid var(--docler-warning);
            color: var(--docler-warning);
        }

        .alert-danger {
            background: rgba(255,68,68,0.2);
            border: 1px solid var(--docler-danger);
            color: var(--docler-danger);
        }

        /* Responsividade */
        @media (max-width: 768px) {
            .admin-container {
                grid-template-columns: 1fr;
                grid-template-rows: 80px auto 1fr;
            }
            
            .admin-sidebar {
                grid-row: 2;
                grid-column: 1;
            }
            
            .admin-main {
                grid-row: 3;
                grid-column: 1;
            }
        }
    </style>
</head>
<body>
    <!-- Container principal -->
    <div class="admin-container">
        <!-- Header -->
        <header class="admin-header">
            <div class="admin-logo">DOCLER Admin</div>
            <nav class="admin-nav">
                <a href="#" class="nav-item active" onclick="showContent('dashboard')">Dashboard</a>
                <a href="#" class="nav-item" onclick="showContent('users')">Usu√°rios</a>
                <a href="#" class="nav-item" onclick="showContent('agents')">Agentes</a>
                <a href="#" class="nav-item" onclick="showContent('relay')">Relay</a>
                <a href="#" class="nav-item" onclick="showContent('security')">Seguran√ßa</a>
                <a href="#" class="nav-item" onclick="showContent('logs')">Logs</a>
            </nav>
        </header>

        <!-- Sidebar -->
        <aside class="admin-sidebar">
            <div class="sidebar-section">
                <h3 class="section-title">Controles R√°pidos</h3>
                <button class="sidebar-button" onclick="quickAction('restart')">üîÑ Reiniciar Sistema</button>
                <button class="sidebar-button" onclick="quickAction('backup')">üíæ Backup</button>
                <button class="sidebar-button" onclick="quickAction('update')">‚¨ÜÔ∏è Atualizar</button>
                <button class="sidebar-button" onclick="quickAction('maintenance')">üîß Manuten√ß√£o</button>
            </div>

            <div class="sidebar-section">
                <h3 class="section-title">Monitoramento</h3>
                <button class="sidebar-button" onclick="openMonitoring('grafana')">üìä Grafana</button>
                <button class="sidebar-button" onclick="openMonitoring('prometheus')">üìà Prometheus</button>
                <button class="sidebar-button" onclick="openMonitoring('alerts')">üö® Alertas</button>
                <button class="sidebar-button" onclick="openMonitoring('metrics')">üìã M√©tricas</button>
            </div>

            <div class="sidebar-section">
                <h3 class="section-title">Configura√ß√µes</h3>
                <button class="sidebar-button" onclick="openConfig('system')">‚öôÔ∏è Sistema</button>
                <button class="sidebar-button" onclick="openConfig('network')">üåê Rede</button>
                <button class="sidebar-button" onclick="openConfig('security')">üõ°Ô∏è Seguran√ßa</button>
                <button class="sidebar-button" onclick="openConfig('backup')">üíæ Backup</button>
            </div>
        </aside>

        <!-- √Årea principal -->
        <main class="admin-main">
            <!-- Dashboard -->
            <div id="dashboard" class="admin-content active">
                <h1 class="content-title">Dashboard Administrativo</h1>
                
                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3 class="card-title">Sistema</h3>
                            <div class="card-icon">üñ•Ô∏è</div>
                        </div>
                        <div class="card-value">98.5%</div>
                        <div class="card-description">Uptime do sistema</div>
                    </div>

                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3 class="card-title">Usu√°rios</h3>
                            <div class="card-icon">üë•</div>
                        </div>
                        <div class="card-value">24</div>
                        <div class="card-description">Usu√°rios ativos</div>
                    </div>

                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3 class="card-title">Agentes IA</h3>
                            <div class="card-icon">ü§ñ</div>
                        </div>
                        <div class="card-value">12</div>
                        <div class="card-description">Agentes ativos</div>
                    </div>

                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3 class="card-title">Relay SMTP</h3>
                            <div class="card-icon">üìß</div>
                        </div>
                        <div class="card-value">1,234</div>
                        <div class="card-description">Emails processados</div>
                    </div>

                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3 class="card-title">Seguran√ßa</h3>
                            <div class="card-icon">üõ°Ô∏è</div>
                        </div>
                        <div class="card-value">0</div>
                        <div class="card-description">Amea√ßas detectadas</div>
                    </div>

                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3 class="card-title">Performance</h3>
                            <div class="card-icon">‚ö°</div>
                        </div>
                        <div class="card-value">95%</div>
                        <div class="card-description">Efici√™ncia geral</div>
                    </div>
                </div>

                <!-- Tabela de Status -->
                <div class="admin-table">
                    <div class="table-header">
                        <h3 class="table-title">Status dos Servi√ßos</h3>
                    </div>
                    <div class="table-content">
                        <div class="table-row">
                            <div class="table-cell">FazAI Core</div>
                            <div class="table-cell">v2.0.0</div>
                            <div class="table-cell status">
                                <div class="status-indicator status-online"></div>
                                Online
                            </div>
                            <div class="table-cell">2d 5h 32m</div>
                            <div class="table-cell">
                                <button class="form-button" onclick="serviceAction('restart', 'fazai')">Reiniciar</button>
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="table-cell">Worker Gemma</div>
                            <div class="table-cell">v1.0.0</div>
                            <div class="table-cell status">
                                <div class="status-indicator status-online"></div>
                                Online
                            </div>
                            <div class="table-cell">1d 12h 15m</div>
                            <div class="table-cell">
                                <button class="form-button" onclick="serviceAction('restart', 'worker')">Reiniciar</button>
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="table-cell">Relay SMTP</div>
                            <div class="table-cell">v1.0.0</div>
                            <div class="table-cell status">
                                <div class="status-indicator status-online"></div>
                                Online
                            </div>
                            <div class="table-cell">3d 8h 45m</div>
                            <div class="table-cell">
                                <button class="form-button" onclick="serviceAction('restart', 'relay')">Reiniciar</button>
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="table-cell">Grafana</div>
                            <div class="table-cell">v9.5.0</div>
                            <div class="table-cell status">
                                <div class="status-indicator status-online"></div>
                                Online
                            </div>
                            <div class="table-cell">5d 2h 10m</div>
                            <div class="table-cell">
                                <button class="form-button" onclick="serviceAction('restart', 'grafana')">Reiniciar</button>
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="table-cell">Prometheus</div>
                            <div class="table-cell">v2.45.0</div>
                            <div class="table-cell status">
                                <div class="status-indicator status-online"></div>
                                Online
                            </div>
                            <div class="table-cell">7d 1h 30m</div>
                            <div class="table-cell">
                                <button class="form-button" onclick="serviceAction('restart', 'prometheus')">Reiniciar</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Usu√°rios -->
            <div id="users" class="admin-content">
                <h1 class="content-title">Gerenciamento de Usu√°rios</h1>
                
                <div class="admin-form">
                    <h3>Adicionar Usu√°rio</h3>
                    <div class="form-group">
                        <label class="form-label">Nome de Usu√°rio</label>
                        <input type="text" class="form-input" id="username" placeholder="Digite o nome de usu√°rio">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Email</label>
                        <input type="email" class="form-input" id="useremail" placeholder="Digite o email">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Permiss√£o</label>
                        <select class="form-select" id="userrole">
                            <option value="user">Usu√°rio</option>
                            <option value="admin">Administrador</option>
                            <option value="super">Super Admin</option>
                        </select>
                    </div>
                    <button class="form-button" onclick="addUser()">Adicionar Usu√°rio</button>
                </div>

                <div class="admin-table">
                    <div class="table-header">
                        <h3 class="table-title">Usu√°rios do Sistema</h3>
                    </div>
                    <div class="table-content">
                        <div class="table-row">
                            <div class="table-cell">admin</div>
                            <div class="table-cell">admin@docler.com</div>
                            <div class="table-cell">Super Admin</div>
                            <div class="table-cell status">
                                <div class="status-indicator status-online"></div>
                                Ativo
                            </div>
                            <div class="table-cell">
                                <button class="form-button warning" onclick="editUser('admin')">Editar</button>
                                <button class="form-button danger" onclick="deleteUser('admin')">Remover</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Agentes -->
            <div id="agents" class="admin-content">
                <h1 class="content-title">Gerenciamento de Agentes IA</h1>
                
                <div class="admin-form">
                    <h3>Configurar Agente</h3>
                    <div class="form-group">
                        <label class="form-label">Nome do Agente</label>
                        <input type="text" class="form-input" id="agentname" placeholder="Digite o nome do agente">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Tipo</label>
                        <select class="form-select" id="agenttype">
                            <option value="productivity">Produtividade</option>
                            <option value="security">Seguran√ßa</option>
                            <option value="monitoring">Monitoramento</option>
                            <option value="automation">Automa√ß√£o</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Configura√ß√£o</label>
                        <textarea class="form-input" id="agentconfig" rows="4" placeholder="Configura√ß√£o JSON do agente"></textarea>
                    </div>
                    <button class="form-button" onclick="addAgent()">Adicionar Agente</button>
                </div>

                <div class="admin-table">
                    <div class="table-header">
                        <h3 class="table-title">Agentes Ativos</h3>
                    </div>
                    <div class="table-content">
                        <div class="table-row">
                            <div class="table-cell">DOCLER Core</div>
                            <div class="table-cell">Or√°culo</div>
                            <div class="table-cell status">
                                <div class="status-indicator status-online"></div>
                                Ativo
                            </div>
                            <div class="table-cell">100%</div>
                            <div class="table-cell">
                                <button class="form-button" onclick="agentAction('restart', 'docler')">Reiniciar</button>
                                <button class="form-button warning" onclick="agentAction('config', 'docler')">Config</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Relay -->
            <div id="relay" class="admin-content">
                <h1 class="content-title">Configura√ß√£o Relay SMTP</h1>
                
                <div class="admin-form">
                    <h3>Configura√ß√µes do Relay</h3>
                    <div class="form-group">
                        <label class="form-label">Host SMTP</label>
                        <input type="text" class="form-input" id="smtphost" placeholder="smtp.example.com">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Porta</label>
                        <input type="number" class="form-input" id="smtpport" placeholder="587">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Usu√°rio</label>
                        <input type="text" class="form-input" id="smtpuser" placeholder="usuario@example.com">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Senha</label>
                        <input type="password" class="form-input" id="smtppass" placeholder="Senha">
                    </div>
                    <button class="form-button" onclick="saveRelayConfig()">Salvar Configura√ß√£o</button>
                </div>

                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3 class="card-title">Emails Processados</h3>
                            <div class="card-icon">üìß</div>
                        </div>
                        <div class="card-value">1,234</div>
                        <div class="card-description">√öltimas 24h</div>
                    </div>

                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3 class="card-title">Spam Detectado</h3>
                            <div class="card-icon">üö´</div>
                        </div>
                        <div class="card-value">45</div>
                        <div class="card-description">Bloqueados</div>
                    </div>

                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3 class="card-title">V√≠rus Encontrados</h3>
                            <div class="card-icon">ü¶†</div>
                        </div>
                        <div class="card-value">2</div>
                        <div class="card-description">Quarentenados</div>
                    </div>
                </div>
            </div>

            <!-- Seguran√ßa -->
            <div id="security" class="admin-content">
                <h1 class="content-title">Configura√ß√µes de Seguran√ßa</h1>
                
                <div class="admin-form">
                    <h3>Firewall</h3>
                    <div class="form-group">
                        <label class="form-label">IPs Permitidos</label>
                        <textarea class="form-input" id="allowedips" rows="3" placeholder="192.168.1.0/24&#10;10.0.0.0/8"></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Portas Abertas</label>
                        <input type="text" class="form-input" id="openports" placeholder="22,80,443,3120">
                    </div>
                    <button class="form-button" onclick="saveFirewallConfig()">Aplicar Firewall</button>
                </div>

                <div class="admin-table">
                    <div class="table-header">
                        <h3 class="table-title">Logs de Seguran√ßa</h3>
                    </div>
                    <div class="table-content">
                        <div class="table-row">
                            <div class="table-cell">2024-01-15 14:30:25</div>
                            <div class="table-cell">192.168.1.100</div>
                            <div class="table-cell">Login bem-sucedido</div>
                            <div class="table-cell status">
                                <div class="status-indicator status-success"></div>
                                Sucesso
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Logs -->
            <div id="logs" class="admin-content">
                <h1 class="content-title">Logs do Sistema</h1>
                
                <div class="admin-form">
                    <h3>Filtros</h3>
                    <div class="form-group">
                        <label class="form-label">N√≠vel</label>
                        <select class="form-select" id="loglevel">
                            <option value="all">Todos</option>
                            <option value="error">Erro</option>
                            <option value="warning">Aviso</option>
                            <option value="info">Info</option>
                            <option value="debug">Debug</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Servi√ßo</label>
                        <select class="form-select" id="logservice">
                            <option value="all">Todos</option>
                            <option value="fazai">FazAI</option>
                            <option value="worker">Worker</option>
                            <option value="relay">Relay</option>
                        </select>
                    </div>
                    <button class="form-button" onclick="filterLogs()">Filtrar</button>
                    <button class="form-button warning" onclick="clearLogs()">Limpar Logs</button>
                </div>

                <div class="admin-table">
                    <div class="table-header">
                        <h3 class="table-title">Logs Recentes</h3>
                    </div>
                    <div class="table-content">
                        <div class="table-row">
                            <div class="table-cell">2024-01-15 14:30:25</div>
                            <div class="table-cell">INFO</div>
                            <div class="table-cell">FazAI</div>
                            <div class="table-cell">Sistema iniciado com sucesso</div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // Configura√ß√£o inicial
        let currentContent = 'dashboard';

        // Inicializa√ß√£o
        document.addEventListener('DOMContentLoaded', function() {
            loadDashboardData();
        });

        // Mostrar conte√∫do
        function showContent(contentId) {
            // Esconder todos os conte√∫dos
            document.querySelectorAll('.admin-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Remover classe active de todos os nav-items
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Mostrar conte√∫do selecionado
            document.getElementById(contentId).classList.add('active');
            
            // Ativar nav-item correspondente
            event.target.classList.add('active');
            
            currentContent = contentId;
        }

        // A√ß√µes r√°pidas
        function quickAction(action) {
            console.log(`A√ß√£o r√°pida: ${action}`);
            showAlert(`A√ß√£o ${action} executada com sucesso!`, 'success');
        }

        // Abrir monitoramento
        function openMonitoring(type) {
            console.log(`Abrindo monitoramento: ${type}`);
            switch(type) {
                case 'grafana':
                    window.open('http://localhost:3000', '_blank');
                    break;
                case 'prometheus':
                    window.open('http://localhost:9090', '_blank');
                    break;
                case 'alerts':
                    showAlert('Sistema de alertas aberto!', 'info');
                    break;
                case 'metrics':
                    showAlert('M√©tricas do sistema carregadas!', 'info');
                    break;
            }
        }

        // Abrir configura√ß√µes
        function openConfig(type) {
            console.log(`Abrindo configura√ß√£o: ${type}`);
            showAlert(`Configura√ß√£o ${type} aberta!`, 'info');
        }

        // A√ß√µes de servi√ßo
        function serviceAction(action, service) {
            console.log(`A√ß√£o de servi√ßo: ${action} ${service}`);
            showAlert(`Servi√ßo ${service} ${action} executado!`, 'success');
        }

        // A√ß√µes de agente
        function agentAction(action, agent) {
            console.log(`A√ß√£o de agente: ${action} ${agent}`);
            showAlert(`Agente ${agent} ${action} executado!`, 'success');
        }

        // Adicionar usu√°rio
        function addUser() {
            const username = document.getElementById('username').value;
            const email = document.getElementById('useremail').value;
            const role = document.getElementById('userrole').value;
            
            if (username && email) {
                console.log(`Usu√°rio adicionado: ${username} (${email}) - ${role}`);
                showAlert(`Usu√°rio ${username} adicionado com sucesso!`, 'success');
                
                // Limpar formul√°rio
                document.getElementById('username').value = '';
                document.getElementById('useremail').value = '';
                document.getElementById('userrole').value = 'user';
            } else {
                showAlert('Preencha todos os campos!', 'warning');
            }
        }

        // Editar usu√°rio
        function editUser(username) {
            console.log(`Editando usu√°rio: ${username}`);
            showAlert(`Editando usu√°rio ${username}...`, 'info');
        }

        // Deletar usu√°rio
        function deleteUser(username) {
            if (confirm(`Tem certeza que deseja deletar o usu√°rio ${username}?`)) {
                console.log(`Usu√°rio deletado: ${username}`);
                showAlert(`Usu√°rio ${username} deletado com sucesso!`, 'success');
            }
        }

        // Adicionar agente
        function addAgent() {
            const name = document.getElementById('agentname').value;
            const type = document.getElementById('agenttype').value;
            const config = document.getElementById('agentconfig').value;
            
            if (name) {
                console.log(`Agente adicionado: ${name} (${type})`);
                showAlert(`Agente ${name} adicionado com sucesso!`, 'success');
                
                // Limpar formul√°rio
                document.getElementById('agentname').value = '';
                document.getElementById('agenttype').value = 'productivity';
                document.getElementById('agentconfig').value = '';
            } else {
                showAlert('Digite o nome do agente!', 'warning');
            }
        }

        // Salvar configura√ß√£o do relay
        function saveRelayConfig() {
            const host = document.getElementById('smtphost').value;
            const port = document.getElementById('smtpport').value;
            const user = document.getElementById('smtpuser').value;
            const pass = document.getElementById('smtppass').value;
            
            if (host && port && user && pass) {
                console.log('Configura√ß√£o do relay salva!');
                showAlert('Configura√ß√£o do relay salva com sucesso!', 'success');
            } else {
                showAlert('Preencha todos os campos!', 'warning');
            }
        }

        // Salvar configura√ß√£o do firewall
        function saveFirewallConfig() {
            const ips = document.getElementById('allowedips').value;
            const ports = document.getElementById('openports').value;
            
            if (ips && ports) {
                console.log('Configura√ß√£o do firewall salva!');
                showAlert('Configura√ß√£o do firewall aplicada com sucesso!', 'success');
            } else {
                showAlert('Preencha todos os campos!', 'warning');
            }
        }

        // Filtrar logs
        function filterLogs() {
            const level = document.getElementById('loglevel').value;
            const service = document.getElementById('logservice').value;
            
            console.log(`Filtrando logs: ${level} - ${service}`);
            showAlert('Logs filtrados com sucesso!', 'success');
        }

        // Limpar logs
        function clearLogs() {
            if (confirm('Tem certeza que deseja limpar todos os logs?')) {
                console.log('Logs limpos!');
                showAlert('Logs limpos com sucesso!', 'success');
            }
        }

        // Carregar dados do dashboard
        function loadDashboardData() {
            // Simular carregamento de dados
            console.log('Carregando dados do dashboard...');
        }

        // Mostrar alerta
        function showAlert(message, type) {
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert alert-${type}`;
            alertDiv.textContent = message;
            
            const main = document.querySelector('.admin-main');
            main.insertBefore(alertDiv, main.firstChild);
            
            setTimeout(() => {
                alertDiv.remove();
            }, 5000);
        }

        // WebSocket para atualiza√ß√µes em tempo real
        function connectAdminWebSocket() {
            const ws = new WebSocket('ws://localhost:3120/admin');
            
            ws.onopen = function() {
                console.log('Admin conectado via WebSocket');
            };
            
            ws.onmessage = function(event) {
                const data = JSON.parse(event.data);
                handleAdminWebSocketMessage(data);
            };
            
            ws.onclose = function() {
                console.log('Admin desconectado');
            };
        }

        function handleAdminWebSocketMessage(data) {
            switch(data.type) {
                case 'dashboard_update':
                    updateDashboard(data.data);
                    break;
                case 'service_status':
                    updateServiceStatus(data.service, data.status);
                    break;
                case 'alert':
                    showAlert(data.message, data.level);
                    break;
            }
        }

        function updateDashboard(data) {
            // Atualizar dados do dashboard
            console.log('Dashboard atualizado:', data);
        }

        function updateServiceStatus(service, status) {
            // Atualizar status do servi√ßo
            console.log(`Status do servi√ßo ${service}: ${status}`);
        }

        // Conectar WebSocket quando dispon√≠vel
        setTimeout(connectAdminWebSocket, 1000);
    </script>
</body>
</html>