###############################################################################
# FazAI Agent - Configuração do Agente Inteligente
# Versão: 1.0.0
#
# Este arquivo configura o comportamento do agente inteligente do FazAI,
# incluindo parâmetros do modelo, protocolos de comunicação e políticas.
###############################################################################

###############################################################################
# CONFIGURAÇÃO DO WORKER GEMMA
###############################################################################

[gemma_worker]
# Habilita o worker Gemma C++
enabled = true

# Caminho do socket Unix para comunicação
socket = /run/fazai/gemma.sock

# Caminho do modelo (arquivo binário)
model = /opt/fazai/models/gemma2-2b-it-sfp.bin

# Configurações de performance
threads = auto
temperature = 0.2
top_p = 0.9
repeat_penalty = 1.1
max_tokens = 1024

# Timeout para operações (em segundos)
timeout = 300

###############################################################################
# CONFIGURAÇÃO DO AGENTE
###############################################################################

[agent]
# Habilita o sistema de agentes inteligentes
enabled = true

# Protocolo de streaming
stream = sse

# Limites de execução
max_iterations = 32
action_per_iteration = 1

# Habilita fallback para outros provedores
fallback_enabled = true

# Políticas de segurança
require_confirmation = false
allowed_commands = []
blocked_commands = ["rm -rf /", "mkfs", "dd if=/dev/zero", "format", "fdisk"]

# Timeout por ação (em segundos)
action_timeout = 300

# Habilita modo debug
debug = false

###############################################################################
# BASE DE CONHECIMENTO (QDRANT)
###############################################################################

[qdrant]
# Habilita integração com Qdrant
enabled = true

# URL do servidor Qdrant
url = http://127.0.0.1:6333

# Nome da coleção
collection = fazai_kb

# Dimensão dos embeddings
dim = 384

# Configurações de busca
search_limit = 10
min_similarity = 0.7

###############################################################################
# PESQUISA ONLINE
###############################################################################

[research]
# Habilita pesquisa online
enabled = true

# Máximo de documentos por consulta
max_docs = 5

# Fontes de pesquisa
sources = ["web", "forums", "documentation"]

# Domínios permitidos (vazio = todos)
allowed_domains = []

# Domínios bloqueados
blocked_domains = ["malicious-site.com"]

# Timeout para pesquisa (em segundos)
timeout = 30

###############################################################################
# GERAÇÃO DE FERRAMENTAS
###############################################################################

[tools]
# Habilita geração dinâmica de ferramentas
enabled = true

# Diretório para ferramentas geradas
generated_dir = /opt/fazai/tools/_generated

# Limpeza automática de ferramentas antigas (em dias)
cleanup_age = 7

# Validação de segurança
validate_specs = true
require_approval = false

###############################################################################
# CONTEXTO E MEMÓRIA
###############################################################################

[context]
# Habilita recuperação de contexto
enabled = true

# Fontes de contexto
sources = ["qdrant", "context7", "system_state"]

# Tamanho máximo do contexto (em tokens)
max_context_tokens = 4000

# Histórico da sessão
session_history = true
max_history_items = 10

###############################################################################
# LOGGING E OBSERVABILIDADE
###############################################################################

[logging]
# Nível de log para o agente
level = info

# Logs estruturados
structured = true

# Métricas do agente
metrics = true

# Auditoria de ações
audit = true

###############################################################################
# SEGURANÇA
###############################################################################

[security]
# Execução como usuário específico
user = root

# Sandbox para ferramentas geradas
sandbox = false

# Validação de entrada
validate_input = true

# Rate limiting
rate_limit = 100
rate_window = 3600

###############################################################################
# INTEGRAÇÕES
###############################################################################

[integrations]
# Context7 para documentação
context7_enabled = true
context7_url = https://context7.com

# MCP para extensões
mcp_enabled = true
mcp_timeout = 30

# Webhooks para notificações
webhooks = []

###############################################################################
# EXEMPLOS DE USO
###############################################################################

# Exemplo de comando:
# fazai agent "configurar servidor de email relay com antispam e antivirus"

# Exemplo de objetivo complexo:
# fazai agent "criar um proxy reverso com nginx, configurar SSL com Let's Encrypt, 
# e implementar rate limiting para proteger contra ataques DDoS"

# Exemplo de manutenção:
# fazai agent "atualizar o sistema, verificar logs de erro, 
# e otimizar configurações de performance"