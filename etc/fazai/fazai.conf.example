###############################################################################
# FazAI v2.0 - Arquivo de Configuração Padrão
# -----------------------------------------------------------
# Copie este arquivo para /etc/fazai/fazai.conf e ajuste os
# valores de acordo com seu ambiente.
###############################################################################

###############################################################################
# SISTEMA
###############################################################################

[system]
# Nível de log global dos componentes escritos em Python/Node
log_level = INFO

###############################################################################
# PROVEDOR PRINCIPAL
###############################################################################

[ai_provider]
provider = gemma_cpp
enable_fallback = true
max_retries = 3
retry_delay = 2

###############################################################################
# WORKER PYTHON (fazai_gemma_worker.py)
###############################################################################

[gemma_worker]
# Endereços onde o worker escutará requisições MCP/ND-JSON
host = 0.0.0.0
port = 5556
# Socket Unix compartilhado com dispatcher/CLIs
unix_socket = /run/fazai/gemma.sock
# Nível de log específico do worker
log_level = INFO

###############################################################################
# GEMMA LOCAL (gemma.cpp)
###############################################################################

[gemma_cpp]
weights = /opt/fazai/models/gemma/2.0-2b-it-sfp.sbs
# Informe somente se o peso não possuir tokenizer embutido
tokenizer = /opt/fazai/models/gemma/tokenizer.spm
enable_native = true
# Parâmetros de geração padrões
max_tokens = 512
temperature = 0.2
top_k = 1
deterministic = true
multiturn = false
prefill_tbatch = 256
generation_timeout = 120

###############################################################################
# DISPATCHER (fazai_dispatcher.py)
###############################################################################

[dispatcher]
mode = smart
# Socket principal do worker Gemma (pode ser sobrescrito por CLI)
gemma_socket = /run/fazai/gemma.sock
timeout_seconds = 30
shell_timeout = 60
fallback_timeout = 45
health_check_interval = 60
fallback_order = openai,openrouter,context7

###############################################################################
# QDRANT (Memória vetorial)
###############################################################################

[qdrant]
enabled = true
host = 127.0.0.1
port = 6333
personality_collection = fazai_memory
knowledge_collection = fazai_kb
vector_dim = 1024

###############################################################################
# OLLAMA (Embeddings locais)
###############################################################################

[ollama]
endpoint = http://127.0.0.1:11434
embeddings_endpoint = 
embedding_model = mxbai-embed-large
timeout = 30

###############################################################################
# FALLBACKS (APIs externas)
###############################################################################

[openai]
api_key = 
model = gpt-4
max_tokens = 2048

[openrouter]
api_key = 
endpoint = https://openrouter.ai/api/v1
default_model = openai/gpt-4o
models = anthropic/claude-3-opus, google/gemini-pro, meta/llama-3-70b
temperature = 0.3
max_tokens = 2000

[context7]
endpoint = 
timeout = 20
api_key = 

###############################################################################
# SERVIÇOS LEGADOS / INTEGRAÇÕES OPCIONAIS
###############################################################################

[daemon]
host = 0.0.0.0
port = 3120

[cloudflare]
storage = /opt/fazai/web/hp-console/data/cloudflare_accounts.json
api_token = 

[opnsense]
storage = /opt/fazai/web/hp-console/data/opnsense_servers.json
enabled = false
host = 127.0.0.1
port = 443
use_ssl = true
api_key = 
api_secret = 
verifySSL = false
timeout = 30000

###############################################################################
# TELEMETRIA / PROMETHEUS (Opcional)
###############################################################################

[telemetry]
enable_ingest = true
enable_metrics = true
udp_port = 0

###############################################################################
# BANCO DE DADOS (Opcional / legado)
###############################################################################

[mysql]
enabled = false
host = 127.0.0.1
port = 3306
database = fazai
user = fazai
password = trocar_senha

